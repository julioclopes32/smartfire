{"version":3,"file":"saturation.js","sourceRoot":"","sources":["../../src/lib/components/saturation.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAe,MAAM,kBAAkB,CAAC;AAC5D,OAAO,EAAE,eAAe,EAAE,MAAM,qBAAqB,CAAC;AACtD,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAC7D,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,kBAAkB,CAAC;AAChD,OAAO,MAAM,MAAM,yBAAyB,CAAC;AAG7C,MAAM,QAAQ,GAAG,cAAc,CAAC,UAAU,MAAM,UAAU,CAAC,CAAC;AAE5D,MAAM,OAAO,UAAW,SAAQ,WAAW;IACzC;QACE,KAAK,EAAE,CAAC;QACR,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAC3B,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IAC3C,CAAC;IAED,iBAAiB;QACf,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;YAC/B,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;YACxB,OAAO,IAAI,CAAC,MAAoB,CAAC,CAAC;YAClC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;SACnB;IACH,CAAC;IAID,IAAI,EAAE;QACJ,OAAO,IAAI,CAAC;IACd,CAAC;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,IAAI,IAAI,CAAC,IAAe;QACtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAClF,IAAI,CAAC,SAAS,CAAC;YACb,GAAG,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG;YACvB,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,GAAG;YAClB,KAAK,EAAE,eAAe,CAAC,IAAI,CAAC;SAC7B,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,CACf,gBAAgB,EAChB,cAAc,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,iBAAiB,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAC7D,CAAC;IACJ,CAAC;IAED,OAAO,CAAC,WAAwB,EAAE,GAAa;QAC7C,2DAA2D;QAC3D,OAAO;YACL,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,WAAW,CAAC,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,GAAG,GAAG;YACrF,CAAC,EAAE,GAAG;gBACJ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,WAAW,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC;gBACpD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,GAAG,GAAG,CAAC;SAC5C,CAAC;IACJ,CAAC;CACF;AAED,cAAc,CAAC,MAAM,CAAC,eAAe,EAAE,UAAU,CAAC,CAAC","sourcesContent":["import { Interactive, Interaction } from './interactive.js';\nimport { hsvaToHslString } from '../utils/convert.js';\nimport { createTemplate, createRoot } from '../utils/dom.js';\nimport { clamp, round } from '../utils/math.js';\nimport styles from '../styles/saturation.js';\nimport type { HsvaColor } from '../types';\n\nconst template = createTemplate(`<style>${styles}</style>`);\n\nexport class Saturation extends Interactive {\n  constructor() {\n    super();\n    createRoot(this, template);\n    this.setAttribute('aria-label', 'Color');\n  }\n\n  connectedCallback(): void {\n    if (this.hasOwnProperty('hsva')) {\n      const value = this.hsva;\n      delete this['hsva' as keyof this];\n      this.hsva = value;\n    }\n  }\n\n  private _hsva!: HsvaColor;\n\n  get xy(): boolean {\n    return true;\n  }\n\n  get hsva(): HsvaColor {\n    return this._hsva;\n  }\n\n  set hsva(hsva: HsvaColor) {\n    this._hsva = hsva;\n    this.style.backgroundColor = hsvaToHslString({ h: hsva.h, s: 100, v: 100, a: 1 });\n    this.setStyles({\n      top: `${100 - hsva.v}%`,\n      left: `${hsva.s}%`,\n      color: hsvaToHslString(hsva)\n    });\n    this.setAttribute(\n      'aria-valuetext',\n      `Saturation ${round(hsva.s)}%, Brightness ${round(hsva.v)}%`\n    );\n  }\n\n  getMove(interaction: Interaction, key?: boolean): Record<string, number> {\n    // Saturation and brightness always fit into [0, 100] range\n    return {\n      s: key ? clamp(this.hsva.s + interaction.left * 100, 0, 100) : interaction.left * 100,\n      v: key\n        ? clamp(this.hsva.v - interaction.top * 100, 0, 100)\n        : Math.round(100 - interaction.top * 100)\n    };\n  }\n}\n\ncustomElements.define('vc-saturation', Saturation);\n"]}