{"version":3,"file":"alpha.js","sourceRoot":"","sources":["../../src/lib/components/alpha.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAe,MAAM,kBAAkB,CAAC;AAC5D,OAAO,EAAE,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;AACvD,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAC7D,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,kBAAkB,CAAC;AAChD,OAAO,MAAM,MAAM,oBAAoB,CAAC;AAGxC,MAAM,QAAQ,GAAG,cAAc,CAAC,UAAU,MAAM,mCAAmC,CAAC,CAAC;AAErF,MAAM,OAAO,KAAM,SAAQ,WAAW;IAGpC;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,aAAa,CAAC,WAAW,CAAgB,CAAC;QACrF,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QACzC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;IAC1C,CAAC;IAED,iBAAiB;QACf,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;YAC/B,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;YACxB,OAAO,IAAI,CAAC,MAAoB,CAAC,CAAC;YAClC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;SACnB;IACH,CAAC;IAID,IAAI,EAAE;QACJ,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,IAAI,IAAI,CAAC,IAAe;QACtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,MAAM,SAAS,GAAG,gBAAgB,CAAC,EAAE,GAAG,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACtD,MAAM,OAAO,GAAG,gBAAgB,CAAC,EAAE,GAAG,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACpD,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;QAE3B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,GAAG,6BAA6B,SAAS,KAAK,OAAO,EAAE,CAAC;QAC3F,IAAI,CAAC,SAAS,CAAC;YACb,GAAG,EAAE,KAAK;YACV,IAAI,EAAE,GAAG,KAAK,GAAG;YACjB,KAAK,EAAE,gBAAgB,CAAC,IAAI,CAAC;SAC9B,CAAC,CAAC;QACH,MAAM,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;QAC3C,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IAC/C,CAAC;IAED,OAAO,CAAC,WAAwB,EAAE,GAAa;QAC7C,qCAAqC;QACrC,OAAO,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;IAC/E,CAAC;CACF;AAED,cAAc,CAAC,MAAM,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC","sourcesContent":["import { Interactive, Interaction } from './interactive.js';\nimport { hsvaToHslaString } from '../utils/convert.js';\nimport { createTemplate, createRoot } from '../utils/dom.js';\nimport { clamp, round } from '../utils/math.js';\nimport styles from '../styles/alpha.js';\nimport type { HsvaColor } from '../types';\n\nconst template = createTemplate(`<style>${styles}</style><div id=\"gradient\"></div>`);\n\nexport class Alpha extends Interactive {\n  private gradient!: HTMLElement;\n\n  constructor() {\n    super();\n    this.gradient = createRoot(this, template).querySelector('#gradient') as HTMLElement;\n    this.setAttribute('aria-label', 'Alpha');\n    this.setAttribute('aria-valuemin', '0');\n    this.setAttribute('aria-valuemax', '1');\n  }\n\n  connectedCallback(): void {\n    if (this.hasOwnProperty('hsva')) {\n      const value = this.hsva;\n      delete this['hsva' as keyof this];\n      this.hsva = value;\n    }\n  }\n\n  private _hsva!: HsvaColor;\n\n  get xy(): boolean {\n    return false;\n  }\n\n  get hsva(): HsvaColor {\n    return this._hsva;\n  }\n\n  set hsva(hsva: HsvaColor) {\n    this._hsva = hsva;\n    const colorFrom = hsvaToHslaString({ ...hsva, a: 0 });\n    const colorTo = hsvaToHslaString({ ...hsva, a: 1 });\n    const value = hsva.a * 100;\n\n    this.gradient.style.backgroundImage = `linear-gradient(to right, ${colorFrom}, ${colorTo}`;\n    this.setStyles({\n      top: '50%',\n      left: `${value}%`,\n      color: hsvaToHslaString(hsva)\n    });\n    const v = round(value);\n    this.setAttribute('aria-valuenow', `${v}`);\n    this.setAttribute('aria-valuetext', `${v}%`);\n  }\n\n  getMove(interaction: Interaction, key?: boolean): Record<string, number> {\n    // Alpha always fit into [0, 1] range\n    return { a: key ? clamp(this.hsva.a + interaction.left) : interaction.left };\n  }\n}\n\ncustomElements.define('vc-alpha', Alpha);\n"]}